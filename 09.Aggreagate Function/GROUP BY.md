The `GROUP BY` clause in MySQL is used to group rows that have the same values in specified columns into aggregated data, such as sums, averages, counts, or other aggregate functions. This allows you to perform calculations on groups of data rather than on individual rows.

### Basic Syntax

```sql
SELECT column1, column2, ..., aggregate_function(column_name)
FROM table_name
WHERE condition
GROUP BY column1, column2, ...;
```

### Example Table: `orders`

Let's consider a table `orders` with the following data:

| order_id | customer_id | product_id | quantity | price | order_date |
| -------- | ----------- | ---------- | -------- | ----- | ---------- |
| 1        | 1           | 101        | 2        | 50    | 2024-08-01 |
| 2        | 2           | 102        | 1        | 100   | 2024-08-01 |
| 3        | 1           | 101        | 3        | 50    | 2024-08-02 |
| 4        | 3           | 103        | 5        | 70    | 2024-08-03 |
| 5        | 2           | 102        | 2        | 100   | 2024-08-04 |

### Examples of `GROUP BY` with Aggregation

#### Example 1: Grouping by a Single Column

To find the total quantity ordered by each customer:

```sql
SELECT customer_id, SUM(quantity) AS total_quantity
FROM orders
GROUP BY customer_id;
```

**Result:**

| customer_id | total_quantity |
| ----------- | -------------- |
| 1           | 5              |
| 2           | 3              |
| 3           | 5              |

This groups the data by `customer_id` and calculates the total quantity of products each customer has ordered.

#### Example 2: Grouping by Multiple Columns

To find the total revenue generated by each product for each customer:

```sql
SELECT customer_id, product_id, SUM(quantity * price) AS total_revenue
FROM orders
GROUP BY customer_id, product_id;
```

**Result:**

| customer_id | product_id | total_revenue |
| ----------- | ---------- | ------------- |
| 1           | 101        | 250           |
| 2           | 102        | 300           |
| 3           | 103        | 350           |

This groups the data by both `customer_id` and `product_id`, then calculates the total revenue generated from each product by each customer.

#### Example 3: Using `COUNT()` with `GROUP BY`

To count the number of orders placed by each customer:

```sql
SELECT customer_id, COUNT(*) AS order_count
FROM orders
GROUP BY customer_id;
```

**Result:**

| customer_id | order_count |
| ----------- | ----------- |
| 1           | 2           |
| 2           | 2           |
| 3           | 1           |

This groups the data by `customer_id` and counts the number of orders each customer has placed.

#### Example 4: Grouping and Filtering with `HAVING`

To find customers who have ordered more than 4 items in total:

```sql
SELECT customer_id, SUM(quantity) AS total_quantity
FROM orders
GROUP BY customer_id
HAVING SUM(quantity) > 4;
```

**Result:**

| customer_id | total_quantity |
| ----------- | -------------- |
| 1           | 5              |
| 3           | 5              |

The `HAVING` clause filters groups that meet the condition `SUM(quantity) > 4`, showing only customers who ordered more than 4 items.

#### Example 5: Grouping by Date

To find the total revenue generated on each day:

```sql
SELECT order_date, SUM(quantity * price) AS total_revenue
FROM orders
GROUP BY order_date;
```

**Result:**

| order_date | total_revenue |
| ---------- | ------------- |
| 2024-08-01 | 200           |
| 2024-08-02 | 150           |
| 2024-08-03 | 350           |
| 2024-08-04 | 200           |

This groups the data by `order_date` and calculates the total revenue generated on each day.

#### Example 6: Grouping by Month (Using `DATE_FORMAT`)

To find the total revenue generated in each month:

```sql
SELECT DATE_FORMAT(order_date, '%Y-%m') AS order_month, SUM(quantity * price) AS total_revenue
FROM orders
GROUP BY order_month;
```

**Result:**

| order_month | total_revenue |
| ----------- | ------------- |
| 2024-08     | 900           |

This groups the data by month (formatted as `YYYY-MM`) and calculates the total revenue generated in each month.

### Summary

- `GROUP BY` is used to group rows that have the same values in specified columns.
- It is commonly used with aggregate functions like `SUM()`, `COUNT()`, `AVG()`, `MAX()`, and `MIN()` to perform calculations on groups of data.
- You can group by single or multiple columns, and use `HAVING` to filter groups based on conditions.
- Grouping by date or using functions like `DATE_FORMAT()` allows for time-based aggregation.
